<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
      <div id="results">Results</div>
</body>
<script>        
        let playerChoice = '';
        let computerPoint = 0;
        let playerPoint = 0;
        let pointTotal = 5;
        let endGame = false;

        const rock = document.querySelector('#rock');       
        const paper = document.querySelector('#paper');      
        const scissors = document.querySelector('#scissors');
        const results = document.querySelector('#results');
        const cpPoint = document.createElement('div');
        const pPoint = document.createElement('div');
        const higherPoint = document.createElement('div');
        const cpuChoice = document.createElement('div');
        const ppChoice = document.createElement('div');
        const roundResults = document.createElement('div');

        cpuChoice.classList.add('cpuChoice');
        results.appendChild(cpuChoice);

        ppChoice.classList.add('ppChoice');
        results.appendChild(ppChoice);

        cpPoint.classList.add('cpPoint');        
        results.appendChild(cpPoint);

        pPoint.classList.add('pPoint');        
        results.appendChild(pPoint);

        roundResults.classList.add('roundResults');
        results.appendChild(roundResults);

        higherPoint.classList.add('higherPoint');
        results.appendChild(higherPoint);
        
        rock.addEventListener('click', () => {
                playerChoice = "rock";
                game();
            });  
            paper.addEventListener('click', () => {
                playerChoice = "paper";                
                game();
            });  
            scissors.addEventListener('click', () => {
                playerChoice = "scissors";
                game();
            });       
        
        function getComputerChoice(){            
            let random = Math.floor(Math.random() * 3) + 1;
            if(random === 1){
                return "rock";
            }    
            else if(random === 2){
                return "paper";
            }     
            else if(random === 3){
                return "scissors";
            }     
        }    
        
        function playRound(pChoice, cpChoice){        
            cpuChoice.textContent = "The Computers choice is " + cpChoice;
            ppChoice.textContent = "The Players choice is " + pChoice; 
            if(pChoice === cpChoice) {
                roundResults.textContent = "It was a tie!";
            }  
            else if(pChoice === "rock" && cpChoice != "paper" ||
            pChoice === "paper" && cpChoice != "scissors" ||
            pChoice === "scissors" && cpChoice != "rock"){
                playerPoint++;
                roundResults.textContent  = "You won this round!";               
            }else {
                computerPoint++;
                roundResults.textContent  = "You lost this round!";                
            }
        }

        function higherPoints(){
            if(playerPoint === pointTotal){
                higherPoint.textContent = "Player Won Best Out Of 5!";
                endGame = true;
            }else if (computerPoint === pointTotal){
                higherPoint.textContent = "Computer Won Best Out Of 5.";
                endGame = true;
            } else {
                return;
            }
        }        

        function game(){ 
            if(!endGame){
            playRound(playerChoice, getComputerChoice());
                        
            cpPoint.textContent = 'Computers points are: ' + computerPoint;
            pPoint.textContent = 'Players points are: ' + playerPoint;
            higherPoints(); 
            } 
        }              
</script>
</html>